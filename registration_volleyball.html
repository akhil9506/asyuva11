
<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="Registration_css.css">
<title>Andhra Samithi</title>

    <!-- Favicon -->
    <link rel="icon" href="./img/bg-img/AS Logo Final- Colour.png">
    
    <!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">

<!-- jQuery library -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

<!-- Popper JS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>

<!-- Latest compiled JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
</head>
    <style>
        
    </style>
<body>

<h2>Volleyball Registration</h2>
<div class="container" >

      <div class="form-group">
    <label for="Cname">Captain Name</label>
      
    <input type="text" id="fname" name="Captain" placeholder="Captain Name.." required>
      </div>
     
      <div calss="form-group">
    <label for="tname">Team Name</label>
    <input type="text" id="tname" name="teamname" placeholder="team name" required> 
          
          </div>
      <div class="form-group">
    <label for="mobile">Mobile Number</label>
    <input type="number" name="mobile" value="" placeholder="mobile number" id="mobile" required><br>
</div>

    <label for="team">Team members</label><br>
       <input type="text" name="team" value="" placeholder="team members" class="members`" required><br><div id="demo">
</div>
    <button id="add" value="Add members" class="btn btn-danger">Add members</button>
       <script>
                var num = 1;
                document.getElementById('add').addEventListener("click",addInput);
                function addInput(){
                            var newInput = '<input type="text" class="members"/><br> <br>';
                            document.getElementById('demo').innerHTML += newInput;  
                            num++;
                            }
    </script>
    
    
    
    <script>
         $(document).ready(function(){
            $('#submit').click(function(){
                    var input=new Array();
                     var members_elements = $('.members');
                    for(var i = 0; i < members_elements.length; ++i) {
                        input[i] = members_elements[i].value;
                    };
                    $.ajax({
                            url: 'http://asyuva.com/api/register/',
                            dataType: 'json',
                            type: 'POST',
                            contentType: 'application/json',
                            data: JSON.stringify({ 
                                "captain": $('#fname').val(),
                                "mobile": $('#mobile').val(),
                                "event":"volleyball",
                                "team_name": $('#tname').val(),
                                "team_members":input
                            }),
                            processData: false,  
                        error: function(data) {
                        window.alert(data.message+" please enter name without spaces or enter valid mobile number");
                    },
                    success: function(data) {
                        window.alert(data.message);
                    }
                    });
                });
        });
    </script>

    <button class="btn btn-danger" id="submit"> submit </button>
        <br>
</div>
   

</body>
</html
